<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Estoque - Sistema de Gerenciamento</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
* {margin: 0;padding: 0;box-sizing: border-box;font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;}
body {background-color: #f9fafb;color: #111827;}
.app-container {display: flex; min-height: 100vh;width: 100%;}
.sidebar {width: 240px;background-color: #ffffff;border-right: 1px solid #e5e7eb;display: flex;flex-direction: column;height: 100vh;position: fixed;left: 0;top: 0;box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);z-index: 100;}
.sidebar-header {padding: 18px 16px;border-bottom: 1px solid #e5e7eb;}
.logo-container {display: flex;align-items: center;}
.logo-icon {background-color: #111827;color: #ffffff;border-radius: 4px;padding: 8px;margin-right: 8px;}
.logo-text {font-weight: 600;font-size: 18px;color: #111827;}
.sidebar-menu {padding: 16px 0;overflow-y: auto;flex: 1;}
.sidebar-item {display: flex;align-items: center;padding: 12px 16px;color: #4b5563;text-decoration: none;cursor: pointer;transition: background-color 0.2s;font-size: 14px;}
.sidebar-item:hover {background-color: #f3f4f6;}
.sidebar-item.active {border-left: 3px solid #111827;background-color: #f3f4f6;color: #111827;font-weight: 500;}
.sidebar-item svg {margin-right: 12px;}
.icon-fornecedor .icon-placeholder {display: inline-block;width: 16px;height: 16px;background-color: #444;margin-right: 8px;border-radius: 3px;position: relative;}
.icon-fornecedor .icon-placeholder::before {content: '';position: absolute;width: 8px;height: 8px;background-color: white;border-radius: 50%;bottom: -3px;left: 1px;}
.icon-fornecedor .icon-placeholder::after {content: '';position: absolute;width: 8px;height: 8px;background-color: white;border-radius: 50%;bottom: -3px;right: 1px;}
.main-content {flex: 1;margin-left: 240px;display: flex;flex-direction: column;min-height: 100vh;}
.header {background-color: #111827;color: #ffffff;padding: 12px 24px;display: flex;justify-content: space-between;align-items: center;height: 64px;}
.header-left, .header-right {display: flex;align-items: center;}
.header-right {display: flex;align-items: center;justify-content: flex-end;width: 100%;margin-right: 0;}
.icon-button {background: none;border: none;color: #ffffff;cursor: pointer;padding: 8px;border-radius: 4px;margin-right: 0;}
.icon-button:hover {background-color: rgba(255, 255, 255, 0.1);}
.search-container-header {flex: 1;max-width: 400px;margin: 0 16px;}
.search-box-header {position: relative;width: 100%;}
.search-icon {position: absolute;left: 10px;top: 50%;transform: translateY(-50%);color: rgba(255, 255, 255, 0.5);}
.search-input-header {background-color: rgba(255, 255, 255, 0.1);border: 1px solid rgba(255, 255, 255, 0.2);border-radius: 4px;color: #ffffff;padding: 8px 8px 8px 32px;width: 100%;outline: none;}
.search-input-header::placeholder {color: rgba(255, 255, 255, 0.5);}
.user-avatar {width: 32px;height: 32px;border-radius: 50%;background-color: rgba(255, 255, 255, 0.2);display: flex;align-items: center;justify-content: center;margin-left: 12px;}
.content-area {padding: 24px;flex: 1;background-color: #f3f4f6;}
.content-container {background-color: #ffffff;border-radius: 8px;box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);padding: 24px;}
.panel-header {margin-bottom: 24px;}
.panel-title {font-size: 20px;font-weight: 600;color: #111827;}
.subtitle {font-size: 14px;font-weight: normal;color: #9ca3af;}
.action-bar {background-color: #f9fafb;border-radius: 6px;padding: 12px;display: flex;flex-wrap: wrap;gap: 8px;margin-bottom: 24px;align-items: center;}
.add-button {background-color: #10b981;color: #ffffff;border: none;border-radius: 4px;padding: 8px 12px;font-size: 14px;cursor: pointer;display: flex;align-items: center;}
.add-button svg {margin-right: 6px;}
.action-button {padding: 10px 20px;font-size: 14px;font-weight: 500;color: #fff;background-color: #007bff;border: none;border-radius: 6px;cursor: pointer;transition: background-color 0.3s ease, transform 0.2s ease;}
.action-button:hover {background-color: #0056b3;transform: scale(1.03);}
.action-button:active {transform: scale(0.97);}
.search-field {position: relative;margin-left: auto;}
.search-input-sm {padding: 7px 12px 7px 12px;border: 1px solid #e5e7eb;border-radius: 4px;font-size: 14px;width: 180px;}
.table-container {overflow-x: auto;margin-bottom: 16px;border-radius: 4px;border: 1px solid #e5e7eb;}
.stock-table {width: 100%;border-collapse: collapse;}
.stock-table th {background-color: #111827;color: #ffffff;text-align: left;padding: 10px 16px;font-weight: 500;font-size: 14px;border: none;}
.stock-table td {padding: 10px 16px;border-bottom: 1px solid #e5e7eb;font-size: 14px;color: #111827;}
.stock-table tr:hover {background-color: #f9fafb;}
.checkbox-col {width: 40px;}
.status-cell {display: flex;justify-content: center;}
.success-icon {color: #22c55e;}
.warning-icon {color: #f59e0b;}
.table-footer {display: flex;justify-content: space-between;align-items: center;padding: 12px 0;font-size: 14px;color: #6b7280;}
.pagination {display: flex;align-items: center;gap: 8px;}
.items-per-page {padding: 4px 8px;border: 1px solid #e5e7eb;border-radius: 4px;background-color: #ffffff;}
.modal {display: none;position: fixed;z-index: 999;left: 0;top: 0;width: 100%;height: 100%;background-color: rgba(0,0,0,0.5);}
.modal-content {background-color: #fff;margin: 5% auto;padding: 24px;border-radius: 8px;width: 95%;max-width: 900px;position: relative;box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);}
.close {position: absolute;top: 15px;right: 20px;font-size: 28px;cursor: pointer;color: #6b7280;}
.close:hover {color: #111827;}
.grid-form {display: grid;grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));gap: 16px;}
.form-group {display: flex;flex-direction: column;}
label {display: block;margin-bottom: 8px;font-weight: 500;color: #374151;}
input, textarea, select {width: 100%;padding: 10px;border-radius: 4px;border: 1px solid #e5e7eb;font-size: 14px;}
input[type="file"] {padding: 8px;}
.preview {display: none;margin-top: 10px;max-width: 150px;max-height: 150px;border-radius: 4px;border: 1px solid #e5e7eb;object-fit: cover;}
.grid-form button[type="submit"] {grid-column: 1 / -1;padding: 12px;background-color: #10b981;color: white;border: none;border-radius: 6px;font-size: 16px;cursor: pointer;}
.grid-form button[type="submit"]:hover {background-color: #059669;}
textarea {resize: none;height: 38px;line-height: 1.4;padding: 10px;}
button[type="submit"] {background-color: #10b981;color: white;padding: 10px 16px;border: none;border-radius: 4px;font-size: 16px;cursor: pointer;margin-top: 8px;}
button[type="submit"]:hover {background-color: #059669;}
.image-modal {display: none;position: fixed;z-index: 1000;padding-top: 60px;left: 0;top: 0;width: 100%;height: 100%;overflow: auto;background-color: rgba(0,0,0,0.8);}
.image-modal-content {display: block;margin: auto;max-width: 80%;max-height: 80%;border-radius: 8px;}
.close-image-modal {position: absolute;top: 30px;right: 45px;color: #fff;font-size: 40px;font-weight: bold;cursor: pointer;}
/* Categories Dropdown */
.dropdown {position: relative;}
.dropdown-toggle {width: 100%;text-align: left;background-color: #ffffff;border: 1px solid #e5e7eb;border-radius: 4px;padding: 10px;cursor: pointer;color: #374151;}
.dropdown-menu {display: none;position: absolute;top: 45px;left: 0;width: 100%;background: #fff;border: 1px solid #e5e7eb;border-radius: 4px;z-index: 100;box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);}
.dropdown-item {padding: 10px;cursor: pointer;border-bottom: 1px solid #f3f4f6;}
.dropdown-item:hover {background-color: #f9fafb;}
.table-img {width: 40px;height: 40px;object-fit: cover;border-radius: 4px;cursor: pointer;}
.action-button.delete {background-color: #dc3545;}
.action-button.delete:hover {background-color: #a71d2a;}
#productTable th, #productTable td {padding: 4px 6px;font-size: 13px;}
@media (max-width: 768px) {.sidebar {width: 64px;}.sidebar-item span {display: none;}.logo-text {display: none;}.main-content {margin-left: 64px;}.search-container-header {display: none;}.modal-content {width: 95%;margin: 10% auto;}}
.totais {
  display: flex;
  gap: 24px;
  margin-bottom: 32px;
  flex-wrap: wrap;
  justify-content: flex-start;
}
.card {
  background: #f9fafb;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  padding: 24px 32px;
  min-width: 180px;
  flex: 1 1 180px;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 0;
  transition: transform 0.32s cubic-bezier(.4,1.4,.6,1), box-shadow 0.32s cubic-bezier(.4,1.4,.6,1);
  cursor: pointer;
}
.card:hover {
  transform: translateY(-7px) scale(1.04);
  box-shadow: 0 6px 18px rgba(16, 185, 129, 0.13), 0 2px 8px rgba(0,0,0,0.04);
  z-index: 2;
}
.card h3 {
  font-size: 15px;
  color: #374151;
  font-weight: 500;
  margin-bottom: 8px;
}
.card p {
  font-size: 2rem;
  font-weight: 700;
  color: #111827;
  margin: 0;
}
.card:last-child p#valorTotalEstoque {
  color: #10b981;
}
.graficos-container {
  display: flex;
  gap: 24px;
  flex-wrap: wrap;
  margin-top: 0;
  justify-content: flex-start;
}
.grafico-card {
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.04);
  padding: 24px 20px 32px 20px;
  flex: 1 1 320px;
  min-width: 320px;
  max-width: 420px;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 0;
  height: 380px;
}
.grafico-card h2 {
  font-size: 16px;
  color: #374151;
  font-weight: 500;
  margin-bottom: 16px;
  text-align: center;
}
.grafico-card canvas {
  width: 100% !important;
  height: 260px !important;
  max-width: 360px;
  margin: 0 auto;
}
.loading, .erro {
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.1rem;
  margin-bottom: 18px;
  min-height: 36px;
}
.loading {
  color: #2563eb;
  background: #e0e7ff;
  border-radius: 6px;
  padding: 10px 0;
}
.erro {
  color: #b91c1c;
  background: #fee2e2;
  border-radius: 6px;
  padding: 10px 0;
  font-weight: 500;
  text-align: center;
}
@media (max-width: 1200px) {
  .graficos-container { flex-direction: column; }
  .grafico-card { max-width: 100%; min-width: 0; width: 100%; }
  .totais { flex-direction: column; gap: 16px; }
}
@media (max-width: 768px) {
  .totais, .graficos-container { flex-direction: column; gap: 12px; }
  .grafico-card { padding: 16px 6px 24px 6px; height: 320px; }
  .card { padding: 16px 10px; }
}
</style>
</head>

<body>
  
  <div class="app-container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-header">
        <div class="logo-container">
          <div class="logo-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="2" y="2" width="20" height="20" rx="2" ry="2"></rect>
              <line x1="16" y1="6" x2="16" y2="6.01"></line>
              <line x1="8" y1="6" x2="8" y2="6.01"></line>
              <line x1="12" y1="6" x2="12" y2="6.01"></line>
              <line x1="16" y1="10" x2="16" y2="10.01"></line>
              <line x1="8" y1="10" x2="8" y2="10.01"></line>
              <line x1="12" y1="10" x2="12" y2="10.01"></line>
              <line x1="16" y1="14" x2="16" y2="14.01"></line>
              <line x1="8" y1="14" x2="8" y2="14.01"></line>
              <line x1="12" y1="14" x2="12" y2="14.01"></line>
            </svg>
          </div>
          <span class="logo-text">Estoque</span>
        </div>
      </div>
      <div class="sidebar-menu">
        <a href="dashboard.html" class="sidebar-item active">
          <span>游늵 Dashboard</span>
        </a>
        <a href="produtos.html" class="sidebar-item">
          <span>游닍 Produto</span>
        </a>

        <a href="fornecedores1.html" class="sidebar-item icon-fornecedor">
          <span>游낈 Fornecedores</span>
        </a>

        <a href="usuarios.html" class="sidebar-item">
          <span>游농 Usu치rios</span>
        </a>
        <a href="movimentacao.html" class="sidebar-item">
          <span>鮫勇 Movimenta칞칚o</span>
        </a>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Header -->
      <header class="header">
        
        <div class="header-right">
          <div class="profile-dropdown-container">
            <button class="icon-button profile-dropdown-toggle" id="profileDropdownToggle" aria-haspopup="true" aria-expanded="false">
              <div class="user-avatar" id="userAvatar">
                <span id="userInitial">U</span>
              </div>
            </button>
            <div class="profile-dropdown-menu" id="profileDropdownMenu">
              <div class="profile-info">
                <div class="profile-avatar"><span id="dropdownUserInitial">U</span></div>
                <div class="profile-name" id="dropdownUserName">Usu치rio</div>
              </div>
              <button class="profile-logout" id="logoutBtn">Sair</button>
            </div>
          </div>
        </div>
      </header>

      <!-- Content Area -->
      <div class="content-area">
        <div class="content-container">
            <div class="panel-header">
                <h1 class="panel-title">Dashboard<span class="subtitle">/ Listagem</span></h1>
            </div>
            <div id="loading" class="loading" style="display:none;">Carregando dados...</div>
            <div id="erro" class="erro" style="display:none;"></div>
            <div id="totais" class="totais" style="display:none;">
              <div class="card">
                <h3>Total Fornecedores</h3>
                <p id="totalFornecedores">-</p>
              </div>
              <div class="card">
                <h3>Total Produtos</h3>
                <p id="totalProdutos">-</p>
              </div>
              <div class="card">
                <h3>Total Colaboradores</h3>
                <p id="totalColaboradores">-</p>
              </div>
              <div class="card">
                <h3>Valor Total Estoque</h3>
                <p id="valorTotalEstoque">R$ 0,00</p>
              </div>
            </div>
            <div class="graficos-container" id="graficosContainer" style="display:none;">
              <div class="grafico-card">
                <h2>Produtos por Fornecedor</h2>
                <canvas id="barChart"></canvas>
              </div>
              <div class="grafico-card">
                <h2>Distribui칞칚o de Produtos por Fornecedor</h2>
                <canvas id="pizzaChart"></canvas>
              </div>
              <!--
              <div class="grafico-card">
                <h2>Produtos por Categoria e Fornecedor</h2>
                <canvas id="lineChart"></canvas>
              </div>
              -->
            </div>
        </div>
      </div>
    </div>
<script>

  // Verifica se o usu치rio est치 logado
  const usuario = JSON.parse(localStorage.getItem('usuario'));
  if (!usuario) {
    window.location.href = 'telaLogin1.html';
  }

  function getUserInitial(name) {
    if (!name) return 'U';
    return name.trim()[0].toUpperCase();
  }

  // Preencher avatar e dropdown com nome/inicial e fun칞칚o (se existir no layout)
  if (document.getElementById('userInitial')) {
    const userInitial = getUserInitial(usuario.nome);
    document.getElementById('userInitial').textContent = userInitial;
  }
  if (document.getElementById('dropdownUserInitial')) {
    document.getElementById('dropdownUserInitial').textContent = getUserInitial(usuario.nome);
  }
  if (document.getElementById('dropdownUserName')) {
    document.getElementById('dropdownUserName').textContent = usuario.nome;
    // Adiciona fun칞칚o abaixo do nome
    let profileNameDiv = document.getElementById('dropdownUserName');
    let funcaoDiv = document.createElement('div');
    funcaoDiv.textContent = usuario.funcao;
    funcaoDiv.style.fontSize = '13px';
    funcaoDiv.style.color = '#6b7280';
    funcaoDiv.style.fontWeight = '400';
    profileNameDiv.appendChild(funcaoDiv);
  }

  let barChart, pizzaChart, lineChart;
  async function carregarTotalProdutos() {
      try {
          const resp = await fetch('http://localhost:8081/api/produtos/total-itens');
          if (!resp.ok) throw new Error(`Erro HTTP: ${resp.status}`);
          const total = await resp.json();
          document.getElementById('totalProdutos').textContent = total.toLocaleString();
      } catch (err) {
          document.getElementById('totalProdutos').textContent = "-";
          console.error('Erro ao carregar total de produtos:', err);
      }
  }
  async function carregarTotalColaboradores() {
      try {
          const resp = await fetch('http://localhost:8081/api/usuarios');
          if (!resp.ok) throw new Error(`Erro HTTP: ${resp.status}`);
          const usuarios = await resp.json();
          document.getElementById('totalColaboradores').textContent = usuarios.length.toLocaleString();
      } catch (err) {
          document.getElementById('totalColaboradores').textContent = "-";
          console.error('Erro ao carregar total de colaboradores:', err);
      }
  }
  function getRandomColor() {
      const letters = '0123456789ABCDEF';
      let color = '#';
      for (let i = 0; i < 6; i++) {
          color += letters[Math.floor(Math.random() * 16)];
      }
      return color;
  }
  async function carregarDashboard() {
      const loading = document.getElementById('loading');
      const erro = document.getElementById('erro');
      loading.style.display = 'block';
      erro.style.display = 'none';
      document.getElementById('totais').style.display = 'none';
      document.getElementById('graficosContainer').style.display = 'none';
      document.getElementById('totalFornecedores').textContent = "-";
      document.getElementById('totalProdutos').textContent = "-";
      document.getElementById('totalColaboradores').textContent = "-";
      document.getElementById('valorTotalEstoque').textContent = "R$ 0,00";
      try {
          const response = await fetch('http://localhost:8081/api/relatorios/dashboard');
          if (!response.ok) throw new Error(`Erro HTTP: ${response.status}`);
          const data = await response.json();
          document.getElementById('totalFornecedores').textContent = data.totalFornecedores?.toLocaleString() || "-";
          document.getElementById('totalColaboradores').textContent = data.totalColaboradores?.toLocaleString() || "-";
          document.getElementById('valorTotalEstoque').textContent =
              new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(data.valorTotalEstoque || 0);
          await Promise.all([
              carregarTotalProdutos(),
              carregarTotalColaboradores()
          ]);
          document.getElementById('totais').style.display = 'flex';
          const fornecedores = Object.keys(data.produtosPorFornecedor);
          const quantidades = Object.values(data.produtosPorFornecedor);
          const barCtx = document.getElementById('barChart').getContext('2d');
          if (barChart) barChart.destroy();
          barChart = new Chart(barCtx, {
              type: 'bar',
              data: {
                  labels: fornecedores,
                  datasets: [{
                      label: 'Quantidade de Produtos',
                      data: quantidades,
                      backgroundColor: '#36A2EB',
                      borderRadius: 6,
                      barPercentage: 0.45,
                      categoryPercentage: 0.6
                  }]
              },
              options: {
                  indexAxis: 'x',
                  scales: {
                      y: { beginAtZero: true, title: { display: true, text: 'Quantidade' } },
                      x: { title: { display: true, text: 'Fornecedores' } }
                  }
              }
          });
          const pizzaCtx = document.getElementById('pizzaChart').getContext('2d');
          if (pizzaChart) pizzaChart.destroy();
          if (!fornecedores || !quantidades || fornecedores.length === 0 || quantidades.length === 0) {
              document.getElementById('pizzaChart').innerHTML = '<p>Nenhum dado dispon칤vel para o gr치fico de pizza.</p>';
          } else {
              const colors = ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40'];
              const backgroundColors = colors.slice(0, fornecedores.length);
              if (backgroundColors.length < fornecedores.length) {
                  for (let i = backgroundColors.length; i < fornecedores.length; i++) {
                      backgroundColors.push(getRandomColor());
                  }
              }
              pizzaChart = new Chart(pizzaCtx, {
                  type: 'pie',
                  data: {
                      labels: fornecedores,
                      datasets: [{
                          data: quantidades,
                          backgroundColor: backgroundColors,
                          borderWidth: 1,
                          hoverOffset: 4
                      }]
                  },
                  options: {
                      responsive: true,
                      maintainAspectRatio: false,
                      plugins: {
                          legend: { display: true, position: 'bottom', labels: { boxWidth: 20, padding: 10, font: { size: 12 } } },
                          tooltip: { callbacks: { label: function(context) { const value = context.parsed; const total = context.dataset.data.reduce((a, b) => a + b, 0); const percentage = ((value / total) * 100).toFixed(2); return `${context.label}: ${value} itens (${percentage}%)`; } } }
                      },
                      animation: { animateScale: true, animateRotate: true, duration: 1000 }
                  }
              });
          }
          document.getElementById('graficosContainer').style.display = 'flex';
          loading.style.display = 'none';
      } catch (error) {
          loading.style.display = 'none';
          erro.textContent = `Erro ao carregar dashboard: ${error.message}. Verifique se o backend est치 rodando em localhost:8081 e o CORS est치 habilitado.`;
          erro.style.display = 'block';
          console.error('Erro no dashboard:', error);
      }
  }
  carregarDashboard();

(function(){
  const toggleBtn = document.getElementById('profileDropdownToggle');
  const dropdownMenu = document.getElementById('profileDropdownMenu');
  let dropdownOpen = false;
  if(toggleBtn && dropdownMenu){
    toggleBtn.addEventListener('click', (e)=>{ e.stopPropagation(); dropdownOpen = !dropdownOpen; dropdownMenu.style.display = dropdownOpen ? 'block' : 'none'; toggleBtn.setAttribute('aria-expanded', dropdownOpen); });
    document.addEventListener('click', ()=>{ if(dropdownOpen){ dropdownMenu.style.display = 'none'; toggleBtn.setAttribute('aria-expanded', false); dropdownOpen = false; } });
    dropdownMenu.addEventListener('click', (e)=> e.stopPropagation());
  }

  const logoutBtn = document.getElementById('logoutBtn');
  if(logoutBtn){ logoutBtn.addEventListener('click', ()=>{ localStorage.removeItem('usuario'); window.location.href = 'telaLogin1.html'; }); }

  if(!document.getElementById('profile-dropdown-inline-style')){
    const style = document.createElement('style');
    style.id = 'profile-dropdown-inline-style';
    style.textContent = `
    .profile-dropdown-container{position:relative;display:flex;align-items:center}
    .profile-dropdown-toggle{background:none;border:none;padding:4px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center}
    .profile-dropdown-toggle:hover{background:transparent}
    .profile-dropdown-menu{display:none;position:absolute;right:0;top:44px;background:#fff;min-width:200px;box-shadow:0 6px 18px rgba(0,0,0,0.12);border-radius:8px;z-index:200;padding:12px 0}
    .profile-info{display:flex;align-items:center;padding:8px 16px;border-bottom:1px solid #f3f4f6}
    .profile-avatar{width:40px;height:40px;border-radius:50%;background:#10b981;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;margin-right:12px}
    .profile-name{font-weight:600;color:#111827}
    .profile-logout{width:100%;background:none;border:none;color:#dc3545;padding:10px 16px;text-align:left;cursor:pointer}
    .user-avatar{width:32px;height:32px;border-radius:50%;background:#10b981;color:#fff;display:flex;align-items:center;justify-content:center;margin-left:12px;font-weight:600;font-size:1.1rem}
    .profile-dropdown-toggle .user-avatar{transition:transform 0.18s ease,background 0.18s ease}
    .profile-dropdown-toggle:hover .user-avatar{transform:scale(1.06)}
    `;
    document.head.appendChild(style);
  }
})();
</script>
</body>
</html>
``` 
